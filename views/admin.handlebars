<!doctype html>
<html lang="en">

<head>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>

<body>
  <div class="container text-center">
       
              <h1 class  = "text-center">Admin</h1>
              <button onclick="datafetch()" type = "submit">Users-details </button>
              <a href = "/fetchData"> User details</a>
              <button>Booking details</button>
              <button>Driver details</button>
    
  </div>
  <div class="container">
    <table class="table table-striped mt-4" id = "tab"></table>
  </div>
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
  </script>
  


 
</body>
<script>
  let table = document.getElementById("tab");

  function datafetch()
  {
    let template = ` <h1 class="text-center">Users</h1>
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Email</th>
    <th>Phone</th>
    <th>Password</th>
    <th>Age</th>
    <th>Country</th>
    <th>Action</th>
  </tr>`

  table.innerHTML = template;
  fetch("/fetchData").then((data)=> 
  console.log(data)
  data.json())
  .then(promised)=>{
    console.log(promised);
    promised.data.forEach((i)=>{
      template = `
      <tr>
    <td>${{i.id}}</td>
    <td>${{i.name}}</td>
    <td>${{i.email}}</td>
    <td>${{i.phone}}</td>
    <td>${{i.password}}</td>
    <td>${{i.age}}</td>
    <td>${{i.country}}</td>
    <td>
      <a href="/update/{{i.id}}">Edit</a> |
      <a href="/delete/{{i.id}}" class="text-danger" onclick="return confirm('Are you sure you want to delete this')">Delete</a>
                
    </td>
  </tr>`
     table.innerHTML += template;
    })
  }
   
   
    
    
  }


</script>

</html>